<div #loginAlert class="alert-box" style="display:none;">
  <i class="material-icons alert-icon">info</i>
    <div class="alert-content">
    <h4>Oops!</h4>
    <p>You need to login or sign up to continue shopping.
      <!-- <a routerLink="/shop">shopping page</a> -->
    </p>
  </div>
</div>

<div #alertCart class="alert-cart" style="display:none;" >
  <i class="fas fa-check-circle check-icon"></i>
  <span>Item added to your cart successfully!</span>
</div>

<div #alertFavorite class="alert-favorite" style="display:none;">
  <i class="material-icons favorite-icon">favorite</i>
  <span>Added to favorites!</span>
</div>

@if (searchOn) {
  <div class="search-result">
    <h3 class="search-result-title"  > The Search Result : </h3>
    <!-- <div class="search-result-line"></div> -->
  </div>
}

<div class="center">
  @for (product of products|searchPipe :searchValue ; track $index) {
    <div class="container">
      <div class="productGrid">
        <div class="productCard">
          <div class="favorite-btn-wrapper">
            <button
              type="button"
              class="favorite-btn"
              (click)="toggleFavorite(product.id)"
              [class.favorited]="isFavorite(product.id)"
              [title]="isFavorite(product.id) ? 'Remove from favorites' : 'Add to favorites'">
              <i class="material-icons">{{ isFavorite(product.id) ? 'favorite' : 'favorite_border' }}</i>
            </button>
          </div>
          <img [src]="product.img" alt="">
          <div class="productInfo">
            <h3 class="productTitle">{{product.title}}</h3>
            <div class="productMeta">
              <span class="productPrice"> {{product.price | currency : "JD" : "code"}}</span>
              <span class="productQuantity">{{product.quantity}}</span>
            </div>
              <div class="productActions">
                <button type="button" (click)="addToCart(product.id)" class="btnPrimary" >
                  <i class="material-icons"  >add_shopping_cart</i>
                  <span>{{ 'shop.product.addToCart' | translate }}</span>
                </button>

                <button type="button" class="btn btnSecondary"
                (click)="viewRecipeDetails(product.id)" >
                  {{ 'shop.product.viewDetails' | translate }}
                </button>
                <!-- <i ngIf="admin == true" class="fa-solid fa-pan-square" ></i> -->
              </div>
          </div>
        </div>
      </div>
    </div>

  }@empty {
      <div class="empty-state">
        <div class="empty-state-icon">üîç</div>
        <h3>{{ 'common.error' | translate }}</h3>
        <p>{{ 'shop.noProductsFound' | translate }}: "{{sInput}}"</p>
      </div>
  }
</div>
